{% extends "layout.html" %}
{% block title %}Home - {{ super() }}{% endblock %}

{% block content %}
<section class="header-2-sub bg-midnight-blue">
    <div class="background">&nbsp;</div>
    <div class="container">
        <div class="row">
            <div class="col-sm-8 col-sm-offset-2">
                <div class="hero-unit">
                    <h1>Exploring ASX securities data<br>
                        has never been so easy and beautiful.</h1>
                </div>
                <div class="btns">
                    <a class="btn btn-inverse" href="{{ url_for('stocks')}}">View Stocks</a>
                    <a class="btn btn-danger" href="{{ url_for('pivot')}}">Pivot Table Builder</a>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="content-9">
    <div class="container">
        <div class="row">
            <div class="col-sm-6">
                <h3>1,900+ Listed Securities</h3>
                <p>All ASX listed securities are dynamically fetched from external data sources and stored in the Pivotal Stocks database.</p>
                <div class="row">
                    <div class="col-sm-6 info">
                        <h6>Pivot Tables</h6>
                        Summarise data efficiently using the Pivot Table Builder.
                    </div>
                    <div class="col-sm-6 info">
                        <h6>Pivot Charts</h6>
                        Every Pivot Table can be graphed and visualised on Pivotal Stocks.
                    </div>
                </div>
            </div>
            <div class="col-sm-4 col-sm-offset-2 hidden-xs" style="padding-top: 50px">
                <img src="{{ url_for('static', filename='img/Graph@2x.png') }}" width="200" height="200" alt="">
            </div>
        </div>
    </div>
</section>

<section class="content-9">
    <div class="container">
        <div class="row">
          <div class="col-sm-4 col-sm-offset-1 hidden-xs" style="padding-top: 50px">
              <img src="{{ url_for('static', filename='img/calc@2x.png') }}" width="200" height="200" alt="">
          </div>
            <div class="col-sm-6 col-sm-offset-1 ">
                <h3>Advanced Data Analysis</h3>
                <div class="row">
                    <div class="col-sm-6 info">
                        <h6>Filter</h6>
                        Optionally use up to 10 predicates to filter a single data field.
                    </div>
                    <div class="col-sm-6 info">
                        <h6>Row Label</h6>
                        Select any data field (or bin) to construct the row headers.
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6 info">
                        <h6>Column Label</h6>
                        Select any data field (or bin) to construct the column headers.
                    </div>
                    <div class="col-sm-6 info">
                        <h6>Aggregation</h6>
                        Calculate the count, sum, average, minimum or maximum of aggregated field.
                    </div>
                </div>
            </div>

        </div>
    </div>
</section>


<h1>Hello world!</h1>
<h2>Our Favourite Pivot Tables</h2>
<ul>
  <li><a href={{ url_for('pivot_table', c_label="sector", r_label="franking_bin", a_function="avg", a_field="div_yield", f_field="asx200", f_predicate="=", f_value="t")}}>Average Dividend Yields by Franking and Sector in ASX200</a></li>
  <li><a href={{ url_for('pivot_table', c_label="sector", r_label="market_cap_bin", a_function="avg", a_field="pe_ratio", f_field="any", f_predicate="any", f_value="any")}}>Average P/E ratios by Sector and market cap</a></li>
  <li><a href={{ url_for('pivot_table', c_label="market_cap_bin", r_label="asx200", a_function="sum", a_field="market_cap", f_field="any", f_predicate="any", f_value="any")}}>ASX200 Market Cap vs the rest</a></li>
  <li><a href={{ url_for('pivot_table', c_label="tsr_3y_bin", r_label="eps_bin", a_function="count", a_field="asx_code", f_field="asx200", f_predicate="=", f_value="t")}}>The relationship of Earnings and Total Shareholder Return in ASX200</a></li>
  <li><a href={{ url_for('pivot_table', c_label="sector", r_label="eps_bin", a_function="avg", a_field="tsr_3y", f_field="asx200", f_predicate="=", f_value="t")}}>Total Shareholder Return of various Sectors in ASX200</a></li>
  <li><a href={{ url_for('pivot_table', c_label="div_yield_bin", r_label="tsr_3y_bin", a_function="count", a_field="asx_code", f_field="asx200", f_predicate="=", f_value="t")}}>Dividend Yield and Total Shareholder Return in ASX200</a></li>
  <li><a href={{ url_for('pivot_table', c_label="sector", r_label="market_cap_bin", a_function="count", a_field="asx_code", f_field="any", f_predicate="any", f_value="any")}}>Sector and size distribution of ASX companies</a></li>

</ul>
{% endblock %}
